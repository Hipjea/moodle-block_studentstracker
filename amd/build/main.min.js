define("block_studentstracker/main",["exports","theme_boost/popover","jquery"],(function(_exports,_popover,_jquery){var obj;
/**
   * Plugin capabilities
   *
   * @author     Pierre Duverneix
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.init=root=>{const toshow=parseInt(root.dataset.show),block_li=root.querySelectorAll("li");for(let i=0,j=block_li.length;i<j;i++)i>toshow-1&&0!==toshow&&(block_li[i].style.display="none");if(toshow>0&&toshow<block_li.length){const showmore=document.querySelector("#tracker_showmore"),btn=document.createElement("button"),showless=document.querySelector("#tracker_showless"),btnless=document.createElement("button");btn.innerHTML='<svg\n  width="18"\n  height="11"\n  viewBox="0 0 1792 1095.1111"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  xmlns:svg="http://www.w3.org/2000/svg">\n  <path\n    fill="#FFFFFF"\n    d="m 1685.1961,209.41181 -166,-165.000053 q -19,-19 -45,-19 -26,0 -45,19 l \n    -531.00002,531.000053 -531,-531.000053 q -19,-19 -45,-19 -26,0 -45,19 l \n    -166,165.000053 q -18.999997,19 -18.999997,45.5 0,26.5 18.999997,45.5 l \n    742,740.99999 q 19,19 45,19 26,0 45,-19 L 1685.1961,300.41181 q 19,-19 19,\n    -45.5 0,-26.5 -19,-45.5 z"\n    id="path912"\n    style="fill:#ffffff;fill-opacity:1" />\n  </svg>',btnless.innerHTML='<svg\n  width="18"\n  height="11"\n  viewBox="0 0 1792 1095.1111"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  xmlns:svg="http://www.w3.org/2000/svg">\n  <path\n    fill="#FFFFFF"\n    d="m 1685.1961,876.41175 -166,165.00005 q -19,19 -45,19 -26,0 -45,-19 l \n    -531.00002,-531.00005 -531,531.00005 q -19,19 -45,19 -26,0 -45,-19 l \n    -166,-165.00005 q -18.999997,-19 -18.999997,-45.5 0,-26.5 18.999997,\n    -45.5 l 742,-740.999993 q 19,-19 45,-19 26,0 45,19 L 1685.1961,785.41175 \n    q 19,19 19,45.5 0,26.5 -19,45.5 z"\n    id="path912"\n    style="fill:#ffffff;fill-opacity:1" />\n  </svg>',showmore.appendChild(btn),showless.appendChild(btnless),showless.style.display="none",showmore.addEventListener("click",(function(){showMoreResults(block_li),showmore.style.display="none",showless.style.display="flex"})),showless.addEventListener("click",(function(){showLessResults(block_li,toshow),showmore.style.display="flex",showless.style.display="none"}))}handlePopovers()};const showMoreResults=block_li=>{for(let i=0,j=block_li.length;i<j;i++)block_li[i].style.display="flex"},showLessResults=(block_li,toshow)=>{for(let i=0,j=block_li.length;i<j;i++)i>toshow-1&&0!==toshow&&(block_li[i].style.display="none")},handlePopovers=()=>{(0,_jquery.default)(document).on("click",'[data-toggle="popover"]',(function(event){(0,_jquery.default)('[data-toggle="popover"]').not(this).popover("hide"),(0,_jquery.default)(this).popover("toggle"),event.preventDefault()})),(0,_jquery.default)("body").on("click",(function(event){(0,_jquery.default)(event.target).closest('.popover, [data-toggle="popover"]').length||(0,_jquery.default)('[data-toggle="popover"]').popover("hide")}))}}));

//# sourceMappingURL=main.min.js.map