{"version":3,"sources":["../src/ui.js"],"names":["define","init","self","toshow","parseInt","document","getElementById","dataset","show","block_li","getElementsByTagName","i","j","length","style","display","showmore","btn","createElement","svgarrowd","innerHTML","appendChild","showless","btnless","svgarrowu","addEventListener","showMore","showLess"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Plugin capabilities\n *\n * @package    block_studentstracker\n * @author     Pierre Duverneix\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n\ndefine([], function() {\n    return {\n        init: function() {\n            let self = this;\n            let toshow = parseInt(document.getElementById(\"studentstracker-list\").dataset.show);\n            let block_li = document.getElementById(\"studentstracker-list\").getElementsByTagName(\"li\");\n            for (let i = 0, j = block_li.length; i < j; i++) {\n                if (i > parseInt(toshow - 1) && toshow !== 0) {\n                    block_li[i].style.display = \"none\";\n                }\n            }\n\n            if (toshow > 0 && toshow < block_li.length) {\n                let showmore = document.getElementById(\"tracker_showmore\");\n                let btn = document.createElement(\"button\");\n                let svgarrowd = '<svg width=\"20\" height=\"20\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">';\n                svgarrowd = svgarrowd + '<path fill=\"#FFFFFF\" d=\"M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19';\n                svgarrowd = svgarrowd + '-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19';\n                svgarrowd = svgarrowd + ' 19 19 45.5t-19 45.5z\"/></svg>';\n                btn.innerHTML = svgarrowd;\n                showmore.appendChild(btn);\n                let showless = document.getElementById(\"tracker_showless\");\n                let btnless = document.createElement(\"button\");\n\n                let svgarrowu = '<svg width=\"20\" height=\"20\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">';\n                svgarrowu = svgarrowu + '<path fill=\"#FFFFFF\" d=\"M1683 1331l-166 165q-19 19-45 19t-45-19l-531-531-531 ';\n                svgarrowu = svgarrowu + '531q-19 19-45 19t-45-19l-166-165q-19-19-19-45.5t19-45.5l742-741q19-19 45-19t45 ';\n                svgarrowu = svgarrowu + '19l742 741q19 19 19 45.5t-19 45.5z\"/></svg>';\n                btnless.innerHTML = svgarrowu;\n                showless.appendChild(btnless);\n                showless.style.display = \"none\";\n\n                showmore.addEventListener(\"click\", function() {\n                    self.showMore();\n                    showmore.style.display = \"none\";\n                    showless.style.display = \"block\";\n                });\n\n                showless.addEventListener(\"click\", function() {\n                    self.showLess(toshow);\n                    showmore.style.display = \"block\";\n                    showless.style.display = \"none\";\n                });\n            }\n        },\n\n        showMore: function() {\n            let block_li = document.getElementById(\"studentstracker-list\").getElementsByTagName(\"li\");\n            for(let i = 0, j = block_li.length; i < j; i++) {\n                  block_li[i].style.display = \"block\";\n            }\n        },\n\n        showLess: function(toshow) {\n            let block_li = document.getElementById(\"studentstracker-list\").getElementsByTagName(\"li\");\n            for(let i = 0, j = block_li.length; i < j; i++) {\n                if (i > parseInt(toshow - 1) && toshow !== 0) {\n                    block_li[i].style.display = \"none\";\n                }\n            }\n        }\n    };\n});\n"],"file":"ui.min.js"}