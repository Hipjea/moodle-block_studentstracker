{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Plugin capabilities\n *\n * @author     Pierre Duverneix\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nconst arrowDown = `<svg\n  width=\"18\"\n  height=\"11\"\n  viewBox=\"0 0 1792 1095.1111\"\n  version=\"1.1\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  xmlns:svg=\"http://www.w3.org/2000/svg\">\n  <path\n    fill=\"#FFFFFF\"\n    d=\"m 1685.1961,209.41181 -166,-165.000053 q -19,-19 -45,-19 -26,0 -45,19 l \n    -531.00002,531.000053 -531,-531.000053 q -19,-19 -45,-19 -26,0 -45,19 l \n    -166,165.000053 q -18.999997,19 -18.999997,45.5 0,26.5 18.999997,45.5 l \n    742,740.99999 q 19,19 45,19 26,0 45,-19 L 1685.1961,300.41181 q 19,-19 19,\n    -45.5 0,-26.5 -19,-45.5 z\"\n    id=\"path912\"\n    style=\"fill:#ffffff;fill-opacity:1\" />\n  </svg>`;\nconst arrowUp = `<svg\n  width=\"18\"\n  height=\"11\"\n  viewBox=\"0 0 1792 1095.1111\"\n  version=\"1.1\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  xmlns:svg=\"http://www.w3.org/2000/svg\">\n  <path\n    fill=\"#FFFFFF\"\n    d=\"m 1685.1961,876.41175 -166,165.00005 q -19,19 -45,19 -26,0 -45,-19 l \n    -531.00002,-531.00005 -531,531.00005 q -19,19 -45,19 -26,0 -45,-19 l \n    -166,-165.00005 q -18.999997,-19 -18.999997,-45.5 0,-26.5 18.999997,\n    -45.5 l 742,-740.999993 q 19,-19 45,-19 26,0 45,19 L 1685.1961,785.41175 \n    q 19,19 19,45.5 0,26.5 -19,45.5 z\"\n    id=\"path912\"\n    style=\"fill:#ffffff;fill-opacity:1\" />\n  </svg>`;\n\n/**\n * Init script.\n *\n * @param {object} root The root element for studentstracker.\n * @return {void}\n */\nexport const init = (root) => {\n  const toshow = parseInt(root.dataset.show);\n  const block_li = root.querySelectorAll(\"li\");\n\n  for (let i = 0, j = block_li.length; i < j; i++) {\n    if (i > toshow - 1 && toshow !== 0) {\n      block_li[i].style.display = \"none\";\n    }\n  }\n\n  if (toshow > 0 && toshow < block_li.length) {\n    const showmore = document.querySelector(\"#tracker_showmore\"),\n      btn = document.createElement(\"button\"),\n      showless = document.querySelector(\"#tracker_showless\"),\n      btnless = document.createElement(\"button\");\n\n    btn.innerHTML = arrowDown;\n    btnless.innerHTML = arrowUp;\n    showmore.appendChild(btn);\n    showless.appendChild(btnless);\n    showless.style.display = \"none\";\n\n    showmore.addEventListener(\"click\", function () {\n      showMoreResults(block_li);\n      showmore.style.display = \"none\";\n      showless.style.display = \"block\";\n    });\n\n    showless.addEventListener(\"click\", function () {\n      showLessResults(block_li, toshow);\n      showmore.style.display = \"block\";\n      showless.style.display = \"none\";\n    });\n  }\n};\n\n/**\n * Show all the results.\n *\n * @param {HTMLLIElement} block_li The <li> element to manipulate.\n * @return {void}\n */\nconst showMoreResults = (block_li) => {\n  for (let i = 0, j = block_li.length; i < j; i++) {\n    block_li[i].style.display = \"block\";\n  }\n};\n\n/**\n * Show less results.\n *\n * @param {HTMLLIElement} block_li The <li> element to manipulate.\n * @param {number} toshow Number of results to show.\n * @return {void}\n */\nconst showLessResults = (block_li, toshow) => {\n  for (let i = 0, j = block_li.length; i < j; i++) {\n    if (i > toshow - 1 && toshow !== 0) {\n      block_li[i].style.display = \"none\";\n    }\n  }\n};\n"],"names":["root","toshow","parseInt","dataset","show","block_li","querySelectorAll","i","j","length","style","display","showmore","document","querySelector","btn","createElement","showless","btnless","innerHTML","appendChild","addEventListener","showMoreResults","showLessResults"],"mappings":"+JA+DqBA,aACbC,OAASC,SAASF,KAAKG,QAAQC,MAC/BC,SAAWL,KAAKM,iBAAiB,UAElC,IAAIC,EAAI,EAAGC,EAAIH,SAASI,OAAQF,EAAIC,EAAGD,IACtCA,EAAIN,OAAS,GAAgB,IAAXA,SACpBI,SAASE,GAAGG,MAAMC,QAAU,WAI5BV,OAAS,GAAKA,OAASI,SAASI,OAAQ,OACpCG,SAAWC,SAASC,cAAc,qBACtCC,IAAMF,SAASG,cAAc,UAC7BC,SAAWJ,SAASC,cAAc,qBAClCI,QAAUL,SAASG,cAAc,UAEnCD,IAAII,UAzDW,wmBA0DfD,QAAQC,UAzCK,qmBA0CbP,SAASQ,YAAYL,KACrBE,SAASG,YAAYF,SACrBD,SAASP,MAAMC,QAAU,OAEzBC,SAASS,iBAAiB,SAAS,WACjCC,gBAAgBjB,UAChBO,SAASF,MAAMC,QAAU,OACzBM,SAASP,MAAMC,QAAU,WAG3BM,SAASI,iBAAiB,SAAS,WACjCE,gBAAgBlB,SAAUJ,QAC1BW,SAASF,MAAMC,QAAU,QACzBM,SAASP,MAAMC,QAAU,kBAWzBW,gBAAmBjB,eAClB,IAAIE,EAAI,EAAGC,EAAIH,SAASI,OAAQF,EAAIC,EAAGD,IAC1CF,SAASE,GAAGG,MAAMC,QAAU,SAW1BY,gBAAkB,CAAClB,SAAUJ,cAC5B,IAAIM,EAAI,EAAGC,EAAIH,SAASI,OAAQF,EAAIC,EAAGD,IACtCA,EAAIN,OAAS,GAAgB,IAAXA,SACpBI,SAASE,GAAGG,MAAMC,QAAU"}